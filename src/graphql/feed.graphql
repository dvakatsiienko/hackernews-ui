# Query
query feed($first: Int, $skip: Int, $orderBy: LinkOrderByInput) {
    feed(first: $first, skip: $skip, orderBy: $orderBy)
        @connection(key: "feed") {
        links {
            id
            # createdAt
            url
            description
            postedBy {
                id
                name
            }
            votes {
                id
                user {
                    id
                }
            }
        }
        count
    }
}

query feedSearch($filter: String!) {
    feed(filter: $filter) {
        links {
            id
            url
            description
            # createdAt
            postedBy {
                id
                name
            }
            votes {
                id
                user {
                    id
                }
            }
        }
    }
}
# Mutation
mutation createPost($description: String!, $url: String!) {
    post(description: $description, url: $url) {
        id
        # createdAt
        url
        description
    }
}

# Subscription
subscription newLinksSubscription {
    newLink {
        id
        url
        description
        # createdAt
        postedBy {
            id
            name
        }
        votes {
            id
            user {
                id
            }
        }
    }
}

subscription newVotesSubscription {
    newVote {
        id
        link {
            id
            url
            description
            # createdAt
            postedBy {
                id
                name
            }
            votes {
                id
                user {
                    id
                }
            }
        }
        user {
            id
        }
    }
}
